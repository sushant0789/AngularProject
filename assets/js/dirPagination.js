!function(){var e,t="angularUtils.directives.dirPagination",n="__default";try{e=angular.module(t)}catch(n){e=angular.module(t,[])}e.directive("dirPaginate",["$compile","$parse","paginationService",function(e,t,i){return{terminal:!0,multiElement:!0,compile:function(a,r){var s=r.dirPaginate,o=s.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),g=/\|\s*itemsPerPage\s*:[^|]*/;if(null===o[2].match(g))throw"pagination directive: the 'itemsPerPage' filter must be set.";var c=o[2].replace(g,""),u=t(c);!function(e){angular.forEach(e,function(e){e.nodeType===Node.ELEMENT_NODE&&angular.element(e).attr("dir-paginate-no-compile",!0)})}(a);var l=r.paginationId||n;return i.registerInstance(l),function(a,r,o){var g=t(o.paginationId)(a)||o.paginationId||n;i.registerInstance(g);var c=function(e,t){var i=!!e.match(/(\|\s*itemsPerPage\s*:[^|]*:[^|]*)/);return t===n||i?e:e.replace(/(\|\s*itemsPerPage\s*:[^|]*)/,"$1 : '"+t+"'")}(s,g);!function(e,t,n){e[0].hasAttribute("dir-paginate-start")||e[0].hasAttribute("data-dir-paginate-start")?(t.$set("ngRepeatStart",n),e.eq(e.length-1).attr("ng-repeat-end",!0)):t.$set("ngRepeat",n)}(r,o,c),function(e){angular.forEach(e,function(e){e.nodeType===Node.ELEMENT_NODE&&angular.element(e).removeAttr("dir-paginate-no-compile")}),e.eq(0).removeAttr("dir-paginate-start").removeAttr("dir-paginate").removeAttr("data-dir-paginate-start").removeAttr("data-dir-paginate"),e.eq(e.length-1).removeAttr("dir-paginate-end").removeAttr("data-dir-paginate-end")}(r);var l=e(r),d=function(e,n,i){var a;if(n.currentPage)a=t(n.currentPage);else{var r=i+"__currentPage";e[r]=1,a=t(r)}return a}(a,o,g);i.setCurrentPageParser(g,d,a),void 0!==o.totalItems?(i.setAsyncModeTrue(g),a.$watch(function(){return t(o.totalItems)(a)},function(e){0<=e&&i.setCollectionLength(g,e)})):a.$watchCollection(function(){return u(a)},function(e){e&&i.setCollectionLength(g,e.length)}),l(a)}}}}]).directive("dirPaginateNoCompile",function(){return{priority:5e3,terminal:!0}}).directive("dirPaginationControls",["paginationService","paginationTemplate",function(e,t){var i=/^\d+$/;return{restrict:"AE",templateUrl:function(e,n){return n.templateUrl||t.getPath()},scope:{maxSize:"=?",onPageChange:"&?",paginationId:"=?"},link:function(t,r,s){var o=s.paginationId||n,g=t.paginationId||s.paginationId||n;if(!e.isRegistered(g)&&!e.isRegistered(o)){var c=g!==n?" (id: "+g+") ":" ";throw"pagination directive: the pagination controls"+c+"cannot be used without the corresponding pagination directive."}t.maxSize||(t.maxSize=9);t.directionLinks=!angular.isDefined(s.directionLinks)||t.$parent.$eval(s.directionLinks),t.boundaryLinks=!!angular.isDefined(s.boundaryLinks)&&t.$parent.$eval(s.boundaryLinks);var u=Math.max(t.maxSize,5);function l(n){p(n)&&(t.pages=a(n,e.getCollectionLength(g),e.getItemsPerPage(g),u),t.pagination.current=n,d(),t.onPageChange&&t.onPageChange({newPageNumber:n}))}function d(){var n=e.getCurrentPage(g),i=e.getItemsPerPage(g),a=e.getCollectionLength(g);t.range.lower=(n-1)*i+1,t.range.upper=Math.min(n*i,a),t.range.total=a}function p(e){return i.test(e)&&0<e&&e<=t.pagination.last}t.pages=[],t.pagination={last:1,current:1},t.range={lower:1,upper:1,total:1},t.$watch(function(){return(e.getCollectionLength(g)+1)*e.getItemsPerPage(g)},function(n){var i;0<n&&(i=parseInt(e.getCurrentPage(g))||1,t.pages=a(i,e.getCollectionLength(g),e.getItemsPerPage(g),u),t.pagination.current=i,t.pagination.last=t.pages[t.pages.length-1],t.pagination.last<t.pagination.current?t.setCurrent(t.pagination.last):d())}),t.$watch(function(){return e.getItemsPerPage(g)},function(e,n){e!=n&&void 0!==n&&l(t.pagination.current)}),t.$watch(function(){return e.getCurrentPage(g)},function(e,t){e!=t&&l(e)}),t.setCurrent=function(t){p(t)&&(t=parseInt(t,10),e.setCurrentPage(g,t))}}};function a(e,t,n,i){var a,s=[],o=Math.ceil(t/n),g=Math.ceil(i/2);a=e<=g?"start":o-g<e?"end":"middle";for(var c=i<o,u=1;u<=o&&u<=i;){var l=r(u,e,i,o),d=2===u&&("middle"===a||"end"===a),p=u===i-9&&("middle"===a||"start"===a);c&&(d||p)?s.push("..."):s.push(l),u++}return s}function r(e,t,n,i){var a=Math.ceil(n/2);return e===n?i:1===e?e:n<i?i-a<t?i-n+e:a<t?t-a+e:e:e}}]).filter("itemsPerPage",["paginationService",function(e){return function(t,i,a){if(void 0===a&&(a=n),!e.isRegistered(a))throw"pagination directive: the itemsPerPage id argument (id: "+a+") does not match a registered pagination-id.";var r,s;return t instanceof Array?(i=parseInt(i)||9999999999,s=e.isAsyncMode(a)?0:(e.getCurrentPage(a)-1)*i,r=s+i,e.setItemsPerPage(a,i),t.slice(s,r)):t}}]).service("paginationService",function(){var e,t={};this.registerInstance=function(n){void 0===t[n]&&(t[n]={asyncMode:!1},e=n)},this.isRegistered=function(e){return void 0!==t[e]},this.getLastInstanceId=function(){return e},this.setCurrentPageParser=function(e,n,i){t[e].currentPageParser=n,t[e].context=i},this.setCurrentPage=function(e,n){t[e].currentPageParser.assign(t[e].context,n)},this.getCurrentPage=function(e){var n=t[e].currentPageParser;return n?n(t[e].context):1},this.setItemsPerPage=function(e,n){t[e].itemsPerPage=n},this.getItemsPerPage=function(e){return t[e].itemsPerPage},this.setCollectionLength=function(e,n){t[e].collectionLength=n},this.getCollectionLength=function(e){return t[e].collectionLength},this.setAsyncModeTrue=function(e){t[e].asyncMode=!0},this.isAsyncMode=function(e){return t[e].asyncMode}}).provider("paginationTemplate",function(){var e="angularUtils.directives.dirPagination.template";this.setPath=function(t){e=t},this.$get=function(){return{getPath:function(){return e}}}}).run(["$templateCache",function(e){e.put("angularUtils.directives.dirPagination.template",'<ul class="pagination" ng-if="1 < pages.length"><li ng-if="boundaryLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(1)"><i class="sprite sprite-left-last-arrow"></i></a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(pagination.current - 1)"><i class="sprite sprite-left-arrow"></i></a></li><li ng-repeat="pageNumber in pages track by $index" ng-class="{ active : pagination.current == pageNumber, disabled : pageNumber == \'...\' }"><a href="" ng-click="setCurrent(pageNumber)">{{ pageNumber }}</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.current + 1)"><i class="sprite sprite-right-arrow"></i></a></li><li ng-if="boundaryLinks"  ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.last)"><i class="sprite sprite-right-last-arrow"></i></a></li></ul>')}])}();